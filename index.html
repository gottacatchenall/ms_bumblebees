<!DOCTYPE html>
<html lang="" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Forecasting the spatio-temporal uncoupling of bumblebee-flower interaction networks</title>
    <script src="https://hypothes.is/embed.js" async></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
    integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,400;0,500;1,400;1,500&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            --citation: #1976D2;
            --structure: hsl(210, 61%, 43%);

            --light: #474747;
            --pale: #a5a5a5;
            --grey: #e0e0e0;
            --nav: #fdfdfd;

            --width: 820px;
            --inner-space: 1.2em;
        }

        body {
            font-family: "Roboto", sans-serif;
            margin: 0 0;
            padding: 0 0;
        }

        article > p {
            line-height: 135%;
        }
        article > h1 {
            padding-top: 3em;
        }
        a {
            text-decoration: none;
            color: #000;
            border-bottom: 1px solid var(--structure);
        }
        a:hover {
            font-weight: 500;
        }
        .citation {
            color: var(--citation);
        }
        .container {
            margin: 0em auto;
            max-width: var(--width);
            padding: var(--inner-space);
        }
        header > .container {
            margin-top: 4em;
        }
        code, pre {
            font-family: "Roboto Mono", monospace;
        }
        pre {
            white-space: pre-wrap;
        }
        h1, h2, h3 {
            color: var(--structure);
            font-family: "Roboto", sans-serif;
            font-weight: 500;
        }
        header {
            font-family: "Roboto", sans-serif;
            z-index: 5;
            color: black;
            margin-top: 4rem;
        }
        .header--title {
            font-weight: 600;
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        .header--authors > span {
            color: var(--light);
            font-weight: 400;
        }
        main {
            padding-top: 8em !important;
            padding-bottom: 8em !important;
        }
        footer {
            background-color: var(--grey);
            font-weight: 300;
        }
        .abstract {
            color: var(--light);
            margin-bottom: 5em;
        }
        figure {
            max-width: 100%;
            border: 1px solid var(--pale);
            border-radius: 2px;
            margin: 1em 0.5em;
        }
        figure > img {
            max-width: 100%;
            display: block;
            margin: 0em auto;
        }
        figure > figcaption {
            padding: var(--inner-space);
        }
        table {
            width: 100%;
            min-width: 100%;
            border-collapse: collapse;
        }
        table > caption {
            padding: var(--inner-space);
        }
        figcaption, caption {
            color: var(--light);
            font-weight: 300;
        }
        thead {
            color: var(--structure);
        }
        td, th {
            padding: 3px;
        }
        tr {
            border-top: 1px solid var(--structure);
            border-bottom: 1px solid var(--structure);
        }
        tbody > tr:nth-child(even) {background: var(--grey)};
        tbody {
            border-bottom: 1px solid var(--structure);
        }
        #refs {
            font-size: 90%;
            column-count: 2;
        }
        #refs > .csl-entry {
            padding-bottom: 0.2em;
            padding-top: 0.2em;
        }
        .hanging-indent > .csl-entry {
            padding-left: 15px ;
            text-indent: -15px ;
        }    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css"
    integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous" />
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js"
    integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O"
    crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/contrib/auto-render.min.js"
    integrity="sha384-yACMu8JWxKzSp/C1YV86pzGiQ/l1YUfE8oPuahJQxzehAjEt2GiQuy/BIvl9KyeF"
    crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            renderMathInElement(document.body, {
                delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false }
                ]
            });
        });
    </script>
</head>

<body>
    <header>
        <div class="container">
            <div class="header--title">Forecasting the spatio-temporal uncoupling of bumblebee-flower interaction networks</div>
            <div class="header--authors">
                <span class="header--author">
                <a href="https://orcid.org/0000-0002-6506-6487" target="_blank">
                    Michael D. Catchen
                </a>
                <sup class="affilcode">1</sup>
                <sup class="affilcode">2</sup>
                </span><span class="header--author">
                <a href="https://orcid.org/0000-0001-9051-0597" target="_blank">
                    Francis Banville
                </a>
                <sup class="affilcode">3</sup>
                <sup class="affilcode">4</sup>
                <sup class="affilcode">2</sup>
                </span><span class="header--author">
                Paul CaraDonna
                <sup class="affilcode">5</sup>
                <sup class="affilcode">6</sup>
                </span><span class="header--author">
                <a href="https://orcid.org/0000-0002-2151-6693" target="_blank">
                    Dominique Caron
                </a>
                <sup class="affilcode">1</sup>
                <sup class="affilcode">2</sup>
                </span><span class="header--author">
                <a href="https://orcid.org/0000-0002-6248-3007" target="_blank">
                    Philippe Desjardins-Proulx
                </a>
                <sup class="affilcode">3</sup>
                <sup class="affilcode">2</sup>
                </span><span class="header--author">
                <a href="https://orcid.org/0000-0001-9019-0108" target="_blank">
                    Norma R. Forero-Muñoz
                </a>
                <sup class="affilcode">3</sup>
                <sup class="affilcode">2</sup>
                </span><span class="header--author">
                <a href="https://orcid.org/0000-0001-6075-8081" target="_blank">
                    Andrew Gonzalez
                </a>
                <sup class="affilcode">1</sup>
                <sup class="affilcode">2</sup>
                </span><span class="header--author">
                <a href="https://orcid.org/0000-0002-4498-7076" target="_blank">
                    Dominique Gravel
                </a>
                <sup class="affilcode">4</sup>
                <sup class="affilcode">2</sup>
                </span><span class="header--author">
                Jane E. Ogilvie
                <sup class="affilcode">5</sup>
                </span><span class="header--author">
                <a href="https://orcid.org/0000-0002-6004-4027" target="_blank">
                    Laura Pollock
                </a>
                <sup class="affilcode">1</sup>
                <sup class="affilcode">2</sup>
                </span><span class="header--author">
                <a href="https://orcid.org/0000-0002-0735-5184" target="_blank">
                    Timothée Poisot
                </a>
                <sup class="affilcode">3</sup>
                <sup class="affilcode">2</sup>
                </span><span class="header--author">
                <a href="https://orcid.org/0000-0001-6067-1349" target="_blank">
                    Tanya Strydom
                </a>
                <sup class="affilcode">3</sup>
                <sup class="affilcode">2</sup>
                </span><span class="header--author">
                Julian Resasco
                <sup class="affilcode">7</sup>
                </span>
            </div>
        </div>
    </header>
    
    <main class="container">
        <section class="abstract">
            

            <dl>
                    <dt>Purpose</dt>
                <dd>This template provides a series of scripts to render a markdown document into an interactive website and a series of PDFs.</dd>
                    <dt>Motivation</dt>
                <dd>It makes collaborating on text with GitHub easier, and means that we never need to think about the output.</dd>
                    <dt>Internals</dt>
                <dd>GitHub actions and a series of python scritpts. The markdown is handled with <code>pandoc</code>.</dd>
                </dl>

            <div class="artifacts">
                <a href="draft.pdf" title="Draft PDF" target="_blank">draft</a>
                <a href="preprint.pdf" title="Preprint PDF" target="_blank">preprint</a>
            </div>
        </section>
        
        <article>
            <p><em>title ideas</em>: Forecasting the spatio-temporal uncoupling of bumblebee-flower interaction networks</p>
            <h1 id="introduction">Introduction</h1>
            <p>Species interactions and climate change.</p>
            <p>Two dimensions: spatial and temporal.</p>
            <ol type="1">
            <li>Elevation gradients.</li>
            </ol>
            <ul>
            <li>range shifts in latitude context</li>
            <li>apply this to elevational gradients</li>
            <li>dispersal capacity and range shifts</li>
            </ul>
            <ol start="2" type="1">
            <li>Phenological uncoupling <span class="citation" data-cites="Olesen2011MisFor">(Olesen <em>et al.</em> 2011)</span>.</li>
            </ol>
            <ul>
            <li>Abundance is a function of time in the year</li>
            </ul>
            <p>In this paper we…. combine data from a variety of sources: field data from several sites, crowd-sourced data (GBIF), and remotely-sensed data. to produce a <em>spatially and temporally explict</em> metaweb of bumblebee-flower interactions across Colorado. We then estimate the change in spatial and temporal overlap over time using the CMIP6 climate consensus forecast <span class="citation" data-cites="Karger2017CliHig">(Karger <em>et al.</em> 2017)</span>.</p>
            <h1 id="methods">Methods</h1>
            <figure>
            <img src="./figures/concept_v2.png" id="fig:concept" alt="Figure 1: todo" /><figcaption aria-hidden="true">Figure 1: todo</figcaption>
            </figure>
            <h2 id="data">Data</h2>
            <p>This project involves assembly and integration of data from a variety of (both structured and unstructured) sources. This data can be divided into four categories: field data, GBIF data, remote-sensing data, and phylogenetic data.</p>
            <h3 id="field-data">Field data</h3>
            <p>The field data consists of: (1) a seven year data-set from Rocky Mountain Biological Laboratory, consisting of season-long interaction and phenology data six plots along an elevation gradient. (2) a similar six year data set from Elk Meadows, CO, and (3) a year across a large elevation gradient at Pikes Peak.</p>
            <p>Additional in-situ environmental sensors.</p>
            <p>The partitioning of this data into training, test, and validation sets if described in the <em>Models</em> section.</p>
            <h3 id="gbif-data">GBIF data</h3>
            <p>The data from Global Biodiversity Information Facility (GBIF) itself comes in two forms: (1) spatial records of bumblebee and flower records (2) sparsely available records of the plants a bee was observed on (TODO details from Julian).</p>
            <h3 id="remote-sensing-data">Remote-sensing data</h3>
            <p>The remote-sensing data consists of high-resolution LiDAR elevation data at 1 meter spatial resolution [<span class="citation" data-cites="NationalEcologicalObservatoryNetworkNEON2021EleLid">(NEON) (2021)</span>;], and daily 1km resolution precipitation and temperature from CHELSA <span class="citation" data-cites="Karger2021GloDai">(Karger <em>et al.</em> 2021)</span>.</p>
            <h3 id="phylogenic-data">Phylogenic data</h3>
            <p>The phylogenetic data consists of genomic barcodes available from NCBI GenBank.</p>
            <h2 id="a-spatiotemporally-explicit-predictive-metaweb-model">A spatiotemporally explicit predictive metaweb model</h2>
            <p>What does it mean for it to be “spatiotemporally explicit?” Well the formal definition of a metaweb is total species pool and</p>
            <p>We denote the predicted probability of two species, <span class="math inline"><em>i</em></span> and <span class="math inline"><em>j</em></span>, interacting a <span class="math inline"><em>p</em><sub><em>i</em><em>j</em></sub></span>. The outcome is here is to build a model <span class="math inline"><em>f</em></span>, or rather a set of candidate models, that take <span class="math inline"><em>i</em></span> and <span class="math inline"><em>j</em></span> and inputs, and which potentially combine this with .features</p>
            <p><span class="math display"><em>p</em><sub><em>i</em><em>j</em></sub> = <em>f</em>(<em>i</em>, <em>j</em>)</span></p>
            <h3 id="candidate-models">Candidate models</h3>
            <p><strong><em>True Neutral</em></strong>: <span class="math inline">$f(i,j) = \frac{1}{\sum_i \sum_j 1} = 1 / (P\cdot F)$</span></p>
            <p><strong><em>Relative-abundance (interaction neutral)</em></strong>: <span class="math inline"><em>f</em>(<em>i</em>, <em>j</em>) = <em>A</em><sub><em>i</em></sub><em>A</em><sub><em>j</em></sub></span> where <span class="math inline"><em>A</em><sub><em>x</em></sub></span> is the relative abundance of species <span class="math inline"><em>x</em></span>.</p>
            <p><strong><em>Relative-abundance + environment-embedding</em></strong>: <span class="math inline"><em>f</em>(<em>i</em>, <em>j</em>) = <em>g</em>(<em>i</em>, <em>j</em>, <em>E</em><sub><em>i</em></sub>, <em>E</em><sub><em>j</em></sub>)</span></p>
            <p><strong><em>Relative-abundance + phylogeny-embedding</em></strong>: $$</p>
            <p><strong><em>Relative-abundance + environment-embedding + phylogeny-embedding</em></strong></p>
            <p>In gravel et al 2017 <span class="math display"><em>P</em>(<em>X</em><sub><em>i</em><em>y</em></sub>, <em>X</em><sub><em>j</em><em>y</em></sub>, <em>L</em><sub><em>i</em><em>j</em><em>y</em></sub>|<em>E</em><sub><em>y</em></sub>) = <em>P</em>(<em>X</em><sub><em>i</em><em>y</em></sub>, <em>X</em><sub><em>j</em><em>y</em></sub><em>P</em>(<em>L</em><sub><em>i</em><em>j</em><em>y</em></sub>|<em>X</em><sub><em>i</em><em>y</em></sub>, <em>X</em><sub><em>j</em><em>y</em></sub>, <em>E</em><sub><em>y</em></sub>)</span> Then decompose probability of co-occurence as <span class="math display"><em>P</em>(<em>X</em><sub><em>i</em><em>y</em></sub>, <em>X</em><sub><em>j</em><em>y</em></sub>) = <em>P</em>(<em>X</em><sub><em>i</em><em>y</em></sub>)<em>P</em>(<em>X</em><sub><em>j</em><em>y</em></sub>)</span></p>
            <h2 id="model-fitting-and-validation">Model fitting and validation</h2>
            <p>Models are implemented and fitted in Julia v1.6, using Turing.jl [cite]</p>
            <h3 id="training-test-validation-split-scheme">Training-test-validation split scheme</h3>
            <p>How do this? Do we remove sites entirely? Years entirely? Perhaps pikes peak would be best as a validation set as its only one year anyway and is a larger elevation gradient.</p>
            <h1 id="results">Results</h1>
            <p>After comparing different combinations of features/model structures and finding the ‘best’ performing model on validation data.</p>
            <h2 id="figure-one-spatial-species-pool-and-network-prediction">Figure one: spatial species pool and network prediction</h2>
            <p>Figure that is two panels: a map of total species richness and a map of network properties across Colorado. This model doesn’t consider time, only other predictors.</p>
            <h2 id="figure-two-phenology">Figure two: Phenology</h2>
            <p>Same as figure one but consists of maps but at different times of the year (e.g. March, June, August) and uses both an interaction-predictor and distribution-predictor that incorporate time into predictions</p>
            <h2 id="figure-three-climate">Figure three: Climate</h2>
            <p>Much as climate change has shifted temperature gradients to get warmer toward the poles, it has also moved temperature gradients up in elevation.</p>
            <p>We can get a CMIP6 forecast of temperature and precipitation, and then predict how many observed interactions in the field data will no longer have their composing species’ distributions overlap. Decompose temporal component of overlap from spatial component.</p>
            <h1 id="discussion">Discussion</h1>
            <h2 id="acknowledgements">Acknowledgements</h2>
            <h1 class="unnumbered" id="references">References</h1>
            <div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
            <div id="ref-Karger2017CliHig" class="csl-entry" role="doc-biblioentry">
            Karger, D.N., Conrad, O., Böhner, J., Kawohl, T., Kreft, H., Soria-Auza, R.W., <em>et al.</em> (2017). Climatologies at high resolution for the earth’s land surface areas. <em>Scientific Data</em>, 4, 170122.
            </div>
            <div id="ref-Karger2021GloDai" class="csl-entry" role="doc-biblioentry">
            Karger, D.N., Wilson, A.M., Mahony, C., Zimmermann, N.E. &amp; Jetz, W. (2021). Global daily 1km land surface precipitation based on cloud cover-informed downscaling. <em>arXiv:2012.10108 [physics]</em>.
            </div>
            <div id="ref-NationalEcologicalObservatoryNetworkNEON2021EleLid" class="csl-entry" role="doc-biblioentry">
            (NEON), N.E.O.N. (2021). Elevation - LiDAR (DP3.30024.001): RELEASE-2021.
            </div>
            <div id="ref-Olesen2011MisFor" class="csl-entry" role="doc-biblioentry">
            Olesen, J.M., Bascompte, J., Dupont, Y.L., Elberling, H., Rasmussen, C. &amp; Jordano, P. (2011). Missing and forbidden links in mutualistic networks. <em>Proceedings of the Royal Society B: Biological Sciences</em>, 278, 725–732.
            </div>
            </div>
        </article>
    </main>

    <footer>
        <div class="container">
            <h2>Affiliations</h2> 
            <sup>1</sup>&nbsp;McGill University; <sup>2</sup>&nbsp;Québec Centre for Biodiversity Sciences; <sup>3</sup>&nbsp;Université de Montréal; <sup>4</sup>&nbsp;Université de Sherbrooke; <sup>5</sup>&nbsp;Rocky Mountain Biological Laboratory; <sup>6</sup>&nbsp;Chicago Bontanic Garden; <sup>7</sup>&nbsp;University of Colorado Boulder
            <br />
            
        </div>
    </footer>
    
</body>
</html>